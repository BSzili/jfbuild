AC_INIT([Build Engine], [0.1], [jf@jonof.id.au], [build])

AC_CANONICAL_HOST

AC_CONFIG_HEADERS([config.h])
AC_CONFIG_AUX_DIR([config])
AM_INIT_AUTOMAKE

AC_PROG_CXX
AC_PROG_CC
AC_PROG_RANLIB


case $host_os in
  *mingw32*)
    host_platform="windows"
    ;;
  *)
    host_platform="other"
    ;;
esac
AM_CONDITIONAL([RENDERTYPEWIN], [test x$host_platform = xwindows])
AM_CONDITIONAL([RENDERTYPESDL], [test x$host_platform = xother])


AM_PATH_SDL(, [
	have_sdl=yes
	SDL_LIBS=`$SDL_CONFIG --libs`
], [
	have_sdl=no
	if test x$host_platform = xother; then
		AC_MSG_ERROR([No SDL library found])
	fi
])

PKG_CHECK_MODULES(GTK, gtk+-2.0, [have_gtk=yes], [have_gtk=no])
AM_CONDITIONAL([HAVE_GTK2], [test x$have_gtk = xyes])
AC_SUBST([GTK_CFLAGS])
AC_SUBST([GTK_LIBS])



AC_C_INLINE
AC_C_BIGENDIAN
AC_TYPE_INT64_T
AC_TYPE_INT32_T
AC_TYPE_INT16_T
AC_TYPE_INT8_T
AC_TYPE_UINT64_T
AC_TYPE_UINT32_T
AC_TYPE_UINT16_T
AC_TYPE_UINT8_T
AC_TYPE_OFF_T
AC_TYPE_SIZE_T
AC_TYPE_SSIZE_T
AC_TYPE_INTPTR_T
AC_TYPE_UINTPTR_T
AC_CHECK_TYPES([ptrdiff_t])

AC_CONFIG_FILES([Makefile
		 src/Makefile
		 kenbuild/Makefile
		 tools/Makefile])
AC_OUTPUT
